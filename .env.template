# ========================================
# Environment Variables Template for Railway Deployment
# ========================================
# Copy this file to .env and fill in your actual values.
# DO NOT commit the .env file with real secrets.

# ========================================
# Database Configuration
# ========================================

# --- Option 1: PostgreSQL (Railway Default) ---
# Uncomment these if using PostgreSQL instead of MySQL
# SPRING_DATASOURCE_URL=jdbc:postgresql://hostname:port/database_name
# SPRING_DATASOURCE_USERNAME=your_postgres_username
# SPRING_DATASOURCE_PASSWORD=your_postgres_password
# SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.PostgreSQLDialect

# --- Option 2: MySQL (for phpMyAdmin users) ---
# Railway provides DATABASE_URL for MySQL plugin, map it to Spring properties:
# If using Railway MySQL plugin, you can use DATABASE_URL or set these individually:
SPRING_DATASOURCE_URL=jdbc:mysql://hostname:port/database_name?useSSL=false&serverTimezone=UTC
SPRING_DATASOURCE_USERNAME=your_mysql_username
SPRING_DATASOURCE_PASSWORD=your_mysql_password
SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.MySQLDialect

# JPA/Hibernate Configuration
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false

# ========================================
# Server Configuration
# ========================================
# Railway automatically sets PORT, but you can override if needed
# PORT=8080

# ========================================
# Application Configuration
# ========================================
SPRING_APPLICATION_NAME=AlemandanPOSJava

# ========================================
# Security & Authentication
# ========================================
# JWT Secret (generate a strong random string)
JWT_SECRET=your_jwt_secret_here_at_least_32_characters_long

# ========================================
# AWS S3 Configuration (Optional)
# ========================================
# For file uploads - Railway filesystem is ephemeral!
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-bucket-name

# ========================================
# Email Configuration
# ========================================

# --- Option A: SendGrid API (Recommended for Railway) ---
# Railway blocks SMTP ports. Use SendGrid HTTP API instead.
# 1. Sign up at https://sendgrid.com (free: 100 emails/day)
# 2. Create API key with Mail Send permission
# 3. Verify sender email/domain at SendGrid
SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
SENDER_EMAIL=your-verified-email@domain.com

# --- Option B: SMTP (Alternative, may be blocked on Railway) ---
# If SENDGRID_API_KEY is set, SendGrid will be used first.
# SMTP is fallback or can be used alone if SendGrid not configured.
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your_email@gmail.com
SPRING_MAIL_PASSWORD=your_app_specific_password
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_REQUIRED=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_TRUST=smtp.gmail.com

# ========================================
# Application Configuration
# ========================================

# Base URL for the application (used in email links, etc.)
# For production: set to your actual domain (e.g., https://yourdomain.com)
# For development: defaults to http://localhost:8080
APP_BASE_URL=https://yourdomain.com

# ========================================
# Password Reset Configuration
# ========================================

# Token expiration time in minutes (default: 60 minutes)
PASSWORD_RESET_TOKEN_EXPIRATION_MINUTES=60

# Minimum password length for security (default: 8 characters)
PASSWORD_RESET_MIN_PASSWORD_LENGTH=8

# ========================================
# File Upload Configuration
# ========================================
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=20MB
# Note: Railway filesystem is ephemeral - use S3 for persistent storage
SPRING_SERVLET_MULTIPART_LOCATION=/tmp/uploads
UPLOADS_PATH=/tmp/uploads

# ========================================
# Thymeleaf Configuration
# ========================================
SPRING_THYMELEAF_CACHE=true

# ========================================
# Logging Configuration
# ========================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_ALEMANDAN_CRM=DEBUG
